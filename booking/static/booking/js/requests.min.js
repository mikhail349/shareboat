$(document).ready(()=>{const a=$("#declineRequestModal"),b=$("#formDecline");a.on("show.bs.modal",function(a){const b=$(a.relatedTarget);$(this).attr("data-booking-id",b.attr("data-booking-id"))}),a.on("shown.bs.modal",function(){$("#textareaText").focus()}),a.on("hidden.bs.modal",function(){$(this).removeAttr("data-booking-id"),b[0].reset()}),b.on("submit",function(b){if(b.preventDefault(),!$(this).checkValidity())return;const c=a.attr("data-booking-id"),d=new FormData($(this)[0]),e=$("#formDecline button[type=\"submit\"]");e.attr("disabled",!0),$.ajax({type:"POST",url:`/bookings/api/set_request_status/${c}/`,data:d,processData:!1,contentType:!1,success:function(a){window.location.href=a.redirect},error:function(a){e.attr("disabled",!1),showErrorToast(parseJSONError(a.responseJSON))}})}),$("#acceptRequest").on("click",function(a){a.preventDefault();const b=$(this).attr("data-booking-id"),c=$(this).attr("data-status"),d=$(this),e=new FormData;e.append("status",c),d.attr("disabled",!0),$.ajax({type:"POST",url:`/bookings/api/set_request_status/${b}/`,data:e,processData:!1,contentType:!1,success:function(a){window.location.href=a.redirect},error:function(a){d.attr("disabled",!1),showErrorToast(parseJSONError(a.responseJSON))}})})});