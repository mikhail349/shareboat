{% extends 'main.html' %}

{% load static %}
{% load boat_extras %}

{% block title %}Лодки{% endblock  %}

{% block content %}
    
    <section class="jumbotron text-center ">
        <div class="container-md">
            <h1 class="jumbotron-heading">Лодки</h1>
        </div>
    </section>
    
    {% if boats %}
        {% include 'leaflet.html' %}
        <div class="album">
            <div class="container">
                {% include 'boat/paginator.html' with class="pb-5" %}
                <div class="row g-4">
                    {% for boat in boats %}
                        <div class="col-lg-4 col-md-4">
                            <div class="card box-shadow h-100">
                                <a href="{% url 'boat:booking' boat.id %}">
                                    {% include 'boat/carousel.html' %}
                                </a>    
                                <div class="card-body d-flex flex-column">
                                    {% include 'boat/card.html' %}
                                    {% get_min_actual_price boat=boat as min_actual_price %}
                                    {% if min_actual_price %}
                                        <div class="text-success fs-3 text-end">от {{ min_actual_price }}&nbsp;₽ / день</div>
                                    {% else %}
                                        <div class="text-danger fs-3 text-end">Нет расценок</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                {% include 'boat/paginator.html' with class="pt-5" %}
            </div>
        </div>
        {% include 'modal_map.html' %}
    {% else %}
        <div class="text-center text-muted">В данный момент опубликованных лодок нет.</div>
    {% endif %}
{% endblock  %}