$(document).ready(()=>{const a=$("div[data-boat-modified]").attr("data-boat-modified");$("#btnAcceptBoat").on("click",function(b){b.preventDefault();const c=new FormData;c.append("modified",a),$.ajax({type:"POST",url:$(this).attr("href"),data:c,processData:!1,contentType:!1,success:function(a){window.location.href=a.redirect},error:function(a){"outdated"===a.responseJSON?.code?$("#outdatedModal").modal("show"):showErrorToast(parseJSONError(a.responseJSON))}})}),$("#outdatedModal button").on("click",function(){document.location.reload()}),$("#formDecline").on("submit",function(b){function c(a){window.location.href=a.redirect}function d(a){"outdated"===a.responseJSON?.code?($("#declineModal").modal("hide"),$("#outdatedModal").modal("show")):showErrorToast(parseJSONError(a.responseJSON))}if(b.preventDefault(),console.log("sumbit"),!!$(this).checkValidity(doShowErrorToast=!1)){const b=new FormData($(this)[0]);b.append("modified",a),$.ajax({type:"POST",url:$(this).attr("action"),data:b,processData:!1,contentType:!1,success:c,error:d})}})});