$(document).ready(()=>{$("#typeSelect").on("change",()=>{const a=parseInt($("#typeSelect option:selected").val()),b=$("#collapseMotorBoat"),c=b.find("fieldset");window.motorBoatTypes.includes(a)?(b.collapse("show"),c.removeAttr("disabled")):(b.collapse("hide"),c.attr("disabled",""));const d=$("#collapseComfortBoat"),e=d.find("fieldset");window.comfortBoatTypes.includes(a)?(d.collapse("show"),e.removeAttr("disabled")):(d.collapse("hide"),e.attr("disabled",""))}),$("form").on("submit",async a=>{a.preventDefault();const b=$("form");if(!b.checkValidity())return;showOverlayPanel();const c=new FormData(b[0]),d=$(".file-upload-wrapper img.card-img");for(let b of d){const a=$(b),d=a.attr("src"),e=a.attr("data-filename"),f=await fetch(d),g=await f.blob();e?c.append("file",g,e):c.append("file",g)}c.append("prices",JSON.stringify(window.prices));const e=b.attr("action");$.ajax({type:"POST",data:c,url:e,processData:!1,contentType:!1,success:function(a){hideOverlayPanel(),window.location.href=a.redirect},error:function(a){hideOverlayPanel(),showErrorToast(parseJSONError(a.responseJSON))}})});var a;$("#switchCustomLocation").on("click",function(){$(this).is(":checked")?($("#map").show(),a=L.map("map",{dragging:!L.Browser.mobile}).setView([51.505,-.09],13),a.on("click",function(b){new L.marker(b.latlng).addTo(a)}),L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:"&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors"}).addTo(a)):($("#map").hide(),a?.remove())})});