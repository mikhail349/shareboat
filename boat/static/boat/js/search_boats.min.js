$(document).ready(()=>{const a=new URLSearchParams(window.location.search);var b,c;a.has("dateFrom")&&(b=new Date(a.get("dateFrom"))),a.has("dateTo")&&(c=new Date(a.get("dateTo")));const d={autoClose:!0,minDate:new Date,altFieldDateFormat:"yyyy-MM-dd",isMobile:window.isMobile()};new AirDatepicker("#dateFrom",{selectedDates:[b],altField:"#hiddenDateFrom",...d}),new AirDatepicker("#dateTo",{selectedDates:[c],altField:"#hiddenDateTo",...d}),$("#formSearch").on("submit",function(){var a=!1;for(let b of $("#formSearch input"))if($(b).is(":invalid")){a=!0;break}if(!a){const a=$("#formSearch button[type=submit]");a.attr("disabled",!0),a.text("\u0418\u0434\u0435\u0442 \u043F\u043E\u0438\u0441\u043A...")}}),$(".form-book-boat").on("submit",function(a){a.preventDefault();const b=$(this).find("button[type=\"submit\"]");b.attr("disabled",!0),$.ajax({type:"POST",url:$(this).attr("action"),data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(a){window.location.href=a.redirect},error:function(a){showErrorToast(a.responseJSON.message),b.attr("disabled",!1)}})}),$("#sortSelect").on("change",()=>{$("#formSearch").submit()}),$(".pagination a").on("click",function(a){const b=new Proxy(new URLSearchParams($(this).attr("href")),{get:(a,b)=>a.get(b)});$("#formSearch input[name=\"page\"]").val(b.page),$("#formSearch").submit(),a.preventDefault()})});