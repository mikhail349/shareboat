$(document).ready(()=>{$("#bookingdaterangepicker").daterangepicker({drops:"up",autoUpdateInput:!1,minDate:new Date(Math.max.apply(null,[firstPriceDate,new Date])),maxDate:lastPriceDate,isInvalidDate:function(a){for(let b of priceRanges)if(a._d>=b.startDate&&a._d<=b.endDate)return!1;return!0},/*isCustomDate: function(date) {
            const d = new Date(2021, 10, 30);
            if (date._d.getTime() == d.getTime()) {
                return 'booked';
            }            
        },*/locale:{format:"DD.MM.YYYY",applyLabel:"\u041E\u043A",cancelLabel:"\u041E\u0442\u043C\u0435\u043D\u0430",fromLabel:"\u041E\u0442",toLabel:"\u0414\u043E",customRangeLabel:"\u041F\u0440\u043E\u0438\u0437\u0432\u043E\u043B\u044C\u043D\u044B\u0439",daysOfWeek:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],monthNames:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],firstDay:1}}),$("#bookingdaterangepicker").on("apply.daterangepicker",function(a,b){$.ajax({type:"GET",url:`/boats/api/calc_booking/${boatId}/?start_date=${b.startDate.format("YYYY-MM-DD")}&end_date=${b.endDate.format("YYYY-MM-DD")}`,processData:!1,contentType:!1,success:function(a){$("#bookingdaterangepicker").val(b.startDate.format(b.locale.format)+" - "+b.endDate.format(b.locale.format)),$("#priceAlert").removeClass("alert-danger"),$("#priceAlert").removeClass("alert-secondary"),$("#priceAlert").addClass("alert-success");let c=a.sum.toLocaleString("ru-RU",{style:"currency",currency:"RUB"}),d=plural(a.days,"\u0434\u0435\u043D\u044C","\u0434\u043D\u044F","\u0434\u043D\u0435\u0439");$("#priceAlert").text(`${c} Ğ·Ğ° ${a.days} ${d}`)},error:function(a){$("#bookingdaterangepicker").val(""),$("#priceAlert").removeClass("alert-success"),$("#priceAlert").removeClass("alert-secondary"),$("#priceAlert").addClass("alert-danger"),$("#priceAlert").text(parseJSONError(a.responseJSON))}})})});