$(document).ready(()=>{$(".btn-fav-icon").on("click",function(){const a=$(this).attr("data-pk"),b=this;// reflow
$.ajax({type:"POST",url:`/boats/api/switch_fav/${a}/`,success:a=>{"redirect"===a?.data?window.location.href=a?.url:"added"===a?.data?($(b).removeClass("text-primary"),$(b).addClass("text-danger")):"deleted"===a?.data&&($(b).removeClass("text-danger"),$(b).addClass("text-primary"))}}),$(this).removeClass("scale-anim"),$(this)[0].offsetWidth,$(this).addClass("scale-anim")})});