$(document).ready(()=>{$("img.avatar").on("click",()=>{$("input[name=avatar]").trigger("click")}),$("input[name=avatar]").on("change",a=>{if(a.target.files&&a.target.files[0]){const b=a.target.files[0],c=new FormData;c.set("avatar",b,b.name),$.ajax({type:"POST",data:c,url:"/user/api/update_avatar/",processData:!1,contentType:!1,success:a=>{showSuccessToast("\u0410\u0432\u0430\u0442\u0430\u0440 \u0438\u0437\u043C\u0435\u043D\u0451\u043D."),$("img.avatar").attr("src",a.data)}})}}),$("#btnGenerateTgCode").on("click",function(a){a.preventDefault(),$btn=$(this),$btn.attr("disabled",!0),$.ajax({type:"GET",url:"/user/api/generate_telegram_code/",success:function(a){$btn.remove(),$("#tgAuth").remove(),$("#tgCode").html(a.message)},error:function(){$btn.attr("disabled",!1)}})})});